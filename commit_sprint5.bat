@echo off
cd c:\Users\PH-User\Desktop\socialops-agent
git commit -m "Sprint 5: Daily Ops + Search + Bulk Actions + CSV Export" -m "Part A: Implementation Overview" -m "- Global search across threads, leads, replies" -m "- Bulk actions in inbox (tags, tasks, triage labels)" -m "- Daily operations dashboard (SLA, tasks, leads)" -m "- CSV export for leads, tasks, threads, and ZIP bundle" -m "" -m "Part B: Search System" -m "" -m "services/search_service.py (195 lines):" -m "- search_threads(query): LIKE search on title + message text" -m "- search_leads(query): LIKE search on name/phone/notes/tags" -m "- search_replies(query): LIKE search on title/body/tags" -m "- search_all(query): Unified search across all entities" -m "- Returns: {id, type, preview, route_target} for navigation" -m "" -m "ui_components/search_view.py (123 lines):" -m "- Search box with real-time query" -m "- Tabs: All / Inbox / Leads / Replies" -m "- Result cards with 'Open' button → navigates to target page" -m "- Sets session_state for item selection (selected_thread_id, selected_lead_id, etc.)" -m "" -m "Part C: Bulk Actions" -m "" -m "ui_components/inbox_view.py (+107 lines):" -m "- Added expander 'Bulk Actions' below filters" -m "- Multi-select threads via st.multiselect()" -m "- Action 1: Apply Tags → updates lead tags (creates lead if toggle enabled)" -m "- Action 2: Create Follow-up Tasks → due in X hours (input, default 24)" -m "- Action 3: Mark Triage Label → 'today' or 'later' (new column: triage_label)" -m "- All actions update DB and show success message" -m "" -m "Part D: Daily Ops Dashboard" -m "" -m "ui_components/ops_view.py (214 lines):" -m "- SLA Status: urgent/warning/ok counts via compute_sla_status()" -m "- Tasks: overdue/today/upcoming with delta metrics" -m "- Leads by Status: new/contacted/qualified/converted/lost (5 metrics)" -m "- Expander: View overdue tasks list with days overdue" -m "" -m "Access: Dashboard → 'Daily Ops' button (quick action)" -m "" -m "Part E: CSV Export" -m "" -m "services/export_service.py (172 lines):" -m "- export_leads_csv(): ID, Name, Status, Phone, Source, Tags, Value, Notes, Created, Updated" -m "- export_tasks_csv(): ID, Title, Type, Status, Completed, Lead ID, Thread ID, Due At, Created" -m "- export_threads_csv(): ID, Title, Platform, Status, Message Count, Last Message, Created" -m "- export_all_data_zip(): ZIP bundle with all 3 CSVs" -m "" -m "Integration: Settings → Plan & Limits section → 4 download buttons" -m "" -m "Part F: i18n + Routing" -m "" -m "utils/translations.py (+78 lines):" -m "- Search keys (9): search_title, search_box, search_tab_*, search_no_results" -m "- Ops keys (6): ops_title, ops_sla_title, ops_tasks_title, ops_leads_title" -m "- Export keys (5): export_title, export_leads, export_tasks, export_threads, export_all" -m "- All in EN/AR/FR" -m "" -m "main.py (+56 lines):" -m "- Imports: search_view, ops_view" -m "- PAGE_SUBTITLES: 'Search', 'Daily Operations'" -m "- Export buttons in settings (4 columns: leads/tasks/threads/all)" -m "- Routing: elif page == 'search': search_view() | elif page == 'ops': ops_view()" -m "- No header for search/ops pages (added to exclusion list)" -m "" -m "ui_components/dashboard_view.py (+20 lines):" -m "- Quick actions row: 'Search' button → go_to('search')" -m "- 'Daily Ops' button → go_to('ops')" -m "" -m "Part G: Tests" -m "" -m "tests/sprint5_smoke.py (187 lines):" -m "- Test 1: Search service (threads, leads, replies, unified, empty query)" -m "- Test 2: CSV export (leads, tasks, threads - headers + structure)" -m "- Test 3: Bulk operations (triage_label column, update test)" -m "- Test 4: Ops metrics (SLA counts, tasks, leads by status)" -m "- All tests pass: 4/4" -m "" -m "Part H: Compliance" -m "" -m "✅ Minimal diffs: Avg 150 lines per new file, surgical edits" -m "✅ No new dependencies: Uses stdlib (csv, io, zipfile) + existing libs" -m "✅ Zero secrets required: All features work locally" -m "✅ 4-button nav unchanged: Dashboard/Inbox/Vault/Settings preserved" -m "✅ All UI text via get_text(): 20 new i18n keys × 3 languages = 60 strings" -m "" -m "Files changed: 14 files, 1739 insertions, 2 deletions" -m "New files: search_service.py, search_view.py, ops_view.py, export_service.py, sprint5_smoke.py" -m "Tests: 4/4 passing"
